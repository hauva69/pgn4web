<html>

<!--
  pgn4web javascript chessboard
  copyright (C) 2009 Paolo Casaschi
  see README file and http://pgn4web.casaschi.net
  for credits, license and more details
-->

<head>

<title>Solve chess tactics!</title>

<link href="tactics.css" type="text/css" rel="stylesheet"></link>

<style type="text/css">

.newButton {
  font-size: 9; 
  width: 80px;
  vertical-align: middle;
  text-align: center;
  background-color: #f2d798; 
  border-color: #c9ad6f; 
  border-style: double;
  border-width: 3;
}

</style>

<link rel="shortcut icon" href="pawn.ico">

<script src="pgn4web.js" type="text/javascript"></script>
<script>
   SetPgnUrl("tactics.pgn"); // if set, this has precedence over the inline PGN in the HTML file
   SetImagePath ("uscf/24"); // use "" path if images are in the same folder as this javascript file
// SetImageType("png");
// SetHighlightOption(true); // true or false
// SetGameSelectorOptions("Select a game...", false, 0, 0, 0, 15, 15, 0, 10); // (head, num, chEvent, chSite, chRound, chWhite, chBlack, chResult, chDate);
// SetCommentsIntoMoveText(true);
// SetCommentsOnSeparateLines(false);
// SetAutoplayDelay(1000); // milliseconds
// SetAutostartAutoplay(false);
// SetAutoplayNextGame(false); // if set, move to the next game at the end of the current game during autoplay
   SetInitialGame("random"); // number of game to be shown at load, from 1 (default); values (keep the quotes) of "first", "last", "random" are also accepted
// SetInitialHalfmove(0,false); // halfmove number to be shown at load, 0 (default) for start position; values (keep the quotes) of "start", "end", "random" and "comment" (go to first comment) are also accepted. Second parameter if true applies the setting to every selected game instead of startup only (default)
   SetShortcutKeysEnabled(false);


// A7
function boardOnClickCol0Row1() { }
boardAlt[0 + 1 * 8] = "";
// B7
function boardOnClickCol1Row1() { }
boardAlt[1 + 1 * 8] = "";
// H7
function boardOnClickCol6Row1() { }
boardAlt[7 + 1 * 8] = "";

// A4
function boardOnClickCol0Row4() { }
boardAlt[0 + 4 * 8] = "";
// B4
function boardOnClickCol1Row4() { }
boardAlt[1 + 4 * 8] = "";
// C4
function boardOnClickCol2Row4() { }
boardAlt[2 + 4 * 8] = "";
// D4
function boardOnClickCol3Row4() { }
boardAlt[3 + 4 * 8] = "";
// E4
function boardOnClickCol4Row4() { }
boardAlt[4 + 4 * 8] = "";
// F4
function boardOnClickCol5Row4() { }
boardAlt[5 + 4 * 8] = "";
// G4
function boardOnClickCol6Row4() { }
boardAlt[6 + 4 * 8] = "";
// H4
function boardOnClickCol7Row4() { }
boardAlt[7 + 4 * 8] = "";

// A3
function boardOnClickCol0Row5() { }
boardAlt[0 + 5 * 8] = "";
// B3
function boardOnClickCol1Row5() { }
boardAlt[1 + 5 * 8] = "";
// C3
function boardOnClickCol2Row5() { }
boardAlt[2 + 5 * 8] = "";
// D3
function boardOnClickCol3Row5() { }
boardAlt[3 + 5 * 8] = "";
// E3
function boardOnClickCol4Row5() { }
boardAlt[4 + 5 * 8] = "";
// F3
function boardOnClickCol5Row5() { }
boardAlt[5 + 5 * 8] = "";
// G3
function boardOnClickCol6Row5() { }
boardAlt[6 + 5 * 8] = "";
// H3
function boardOnClickCol7Row5() { }
boardAlt[7 + 5 * 8] = "";

// A2
function boardOnClickCol0Row6() { }
boardAlt[0 + 6 * 8] = "";
// B2
function boardOnClickCol1Row6() { }
boardAlt[1 + 6 * 8] = "";
// C2
function boardOnClickCol2Row6() { }
boardAlt[2 + 6 * 8] = "";
// D2
function boardOnClickCol3Row6() { }
boardAlt[3 + 6 * 8] = "";
// E2
function boardOnClickCol4Row6() { }
boardAlt[4 + 6 * 8] = "";
// F2
function boardOnClickCol5Row6() { }
boardAlt[5 + 6 * 8] = "";
// G2
function boardOnClickCol6Row6() { }
boardAlt[6 + 6 * 8] = "";
// H2
function boardOnClickCol7Row6() { }
boardAlt[7 + 6 * 8] = "";

// A1
function boardOnClickCol0Row7() { }
boardAlt[0 + 7 * 8] = "";
// B1
function boardOnClickCol1Row7() { }
boardAlt[1 + 7 * 8] = "";
// C1
function boardOnClickCol2Row7() { }
boardAlt[2 + 7 * 8] = "";
// D1
function boardOnClickCol3Row7() { }
boardAlt[3 + 7 * 8] = "";
// E1
function boardOnClickCol4Row7() { }
boardAlt[4 + 7 * 8] = "";
// F1
function boardOnClickCol5Row7() { }
boardAlt[5 + 7 * 8] = "";
// G1
function boardOnClickCol6Row7() { }
boardAlt[6 + 7 * 8] = "";
// H1
function boardOnClickCol7Row7() { }
boardAlt[7 + 7 * 8] = "";


function gup( name ){
  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+name+"=([^&#]*)";  
  regexS = regexS+"(?!.*"+regexS+")"; // matches the LAST occurrence
  var regex = new RegExp( regexS );
  var results = regex.exec( window.location.href );
  if( results === null ) { return ""; }
  else { return results[1]; }
}

SetInitialGame(gup('n'));	

</script>		  

</head>

<body>

<!-- paste your PGN below and make sure you dont specify an external source with SetPgnUrl() -->
<span style="display:none" id="pgnText">

</span>
<!-- paste your PGN above and make sure you dont specify an external source with SetPgnUrl() -->

<center>
<table width=508 cellspacing=0 cellpadding=0 border=0>

<tr>
<td width=246 rowspan=3 valign=top>
<div id="GameBoard"></div>
</td>

<td width=16 rowspan=3>
</td>

<td width=246 height=40 valign=top>

<table width=246 cellspacing=0 cellpadding=0 border=0>
<tr>
<td width=50%>
<div style="text-align: left; font-size: 14;">#<span id="GameRound"></span></div>
</td>
<td width=50%>
<div style="text-align: right;">&nbsp;<span id="task" style="font-size: 14; background: yellow;">&nbsp;<span id="GameSideToMove"></span>&nbsp;to&nbsp;move&nbsp;</span></div>
</td>
</tr>
</table>

</td>

<tr>
<td width=246 height=166 valign=middle>
<span id="solution" style="font-size: 14; text-align: left; visibility: hidden">
<span id="GameText"></span> <span id="GameResult"></span>
</span>
</div>

</td>
</tr>

<tr>
<td width=246 height=40 valign=bottom>

<table cellspacing=0 cellpadding=0 border=0>
<form>
<tr>
<td width=80px valign=top>
<input type=button value="move back" title="click here to move back one ply when looking at the solution" class="newButton" onClick="javascript: MoveBackward(1); if (StartPly == CurrentPly) {document.getElementById('task').style.visibility = 'visible';}" onFocus="this.blur()">
</td>
<td width=4px>
</td>
<td width=80px valign=top>
<input type=button value="show solution" title="click here to show the solution and step through the main line" class="newButton" onClick="javascript:MoveForward(1); document.getElementById('solution').style.visibility = 'visible';document.getElementById('task').style.visibility = 'hidden';" onFocus="this.blur()">
</td>
<td width=4px>
</td>
<td width=80px valign=top>
<input type=button value="next puzzle" title="click here to load the next puzzle" class="newButton" onClick="javascript: document.getElementById('solution').style.visibility = 'hidden'; document.getElementById('task').style.visibility = 'visible'; currentGame = Math.floor(Math.random()*numberOfGames);Init();" onFocus="this.blur()">
</td>
</tr>
</form>
</table>

</td>
</tr>

</table>
</center>

</body>
</html>
