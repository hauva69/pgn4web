<html>

<!--
  pgn4web javascript chessboard
  copyright (C) 2009-2012 Paolo Casaschi
  see README file and http://pgn4web.casaschi.net
  for credits, license and more details
-->

<head>

<title>flash replacement</title>

<link rel="shortcut icon" href="pawn.ico" />

<style type="text/css">

body {
  margin: 0;
  padding: 1.75em;
  font-family: sans-serif;
  color: black;
  background: white;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFF', endColorstr='#F0F8FF'); /* IE */
  background: -webkit-linear-gradient(#FFFFFF, #F0F8FF); /* chrome 10+ */
  background: -moz-linear-gradient(top, #FFFFFF, #F0F8FF); /* firefox 3.6+ */
  background: -o-linear-gradient(#FFFFFF, #F0F8FF); /* opera 11.10+ */
}

a {
  color: black;
}

p {
  padding: 0.25em;
}

ul {
  list-style-type: square;
}

.exampleLink {
  background: #E6EDF3;
  padding-left: 0.25em;
  padding-right: 0.25em;
  white-space: pre;
}

</style>

</head>

<body>

<h1>pgn4web live broadcast: flash replacement</h1>

<p>
What about replacing with a broadly supported technology a well known live chess broadcast client based on the adobe flash technology and therefore not supported by mobile devices such as android phones and tablets, the iphone and the ipad? This page shows equivalent functionality based on HTML5 (javascript + css) that works on mobile devices as well.
</p>

<h3 name="basic">basic example</h3>
<p>
This replicates the flash based client layout and functionality:
</p>
<p>
<center>


<!--
  this is the inline frame code showing the live chessboard on the page;
  when copying the code on a new live page, please adjust the inline frame src
  property with the relative path from the new live page to dynamic-frame.html
-->
<iframe id='gameframe' frameborder='0' scrolling='no'
 style='width: 640px; height: 360px; border: solid black 1px; padding: 5px; margin: 0; background: transparent;'
 src='./dynamic-frame.html?ct=blue&hch=t&pf=merida&scf=t&l=t'
>your web browser and/or your host do not support iframes as required to display the chessboard
</iframe>


</center>
</p>
<p>
</p>

<h3 name="advanced">advanced example</h3>
<p>
This shows additional functionality of the pgn4web viewer, including customized colors, customized chess pieces and user/engine analysis board. Please note some web browsers don't support the chess engine for computer analysis; click the E8 square of the main board to copy the postion to the analysis board; try moves and variations clicking the from/to squared on the analysis board.
</p>
<p>
<center>

<table style="border: 40px solid #FFCE9E; border-radius: 10px; background: #FFCE9E; box-shadow: 0 0 20px #FFCE9E;" cellspacing="0" cellpadding="0" border="0"><tr><td valign="middle">
<iframe id='analysisframeAdvanced' name='analysisframeAdvanced' frameborder='0' scrolling='no'
 style='width: 208px; height: 260px; margin-right: 40px; opacity: 0.9;'
 src='./engine.html?de=s&lch=FFCE9E&dch=E3B688&hch=D18B47&fmch=000000&ctch=000000&bch=FFCE9E&ss=26&fp=0&pf=u&fms=11&fcs=16'
>your web browser and/or your host do not support iframes as required to display the chessboard
</iframe>
</td><td valign="middle">
<iframe id='gameframeAdvanced' frameborder='0' scrolling='no'
 style='width: 580px; height: 320px;'
 src='./dynamic-frame.html?ct=brown&hch=t&pf=u&scf=t&l=t&ewt=analysisframeAdvanced&eww=216&ewh=260&ewup=lch%3DFFCE9E%26dch%3DE3B688%26hch%3DD18B47%26fmch%3D000000%26ctch%3D000000%26bch%3DFFCE9E%26ss%3D26%26fp%3D0%26pf%3Du%26fms%3D11%26fcs%3D16'
>your web browser and/or your host do not support iframes as required to display the chessboard
</iframe>
</td></tr></table>

</center>
</p>
<p>
</p>

<h3>end user hints for the client user interface</h3>
<ul>
<li>use the arrow keys to move throughout the game</li>
<li>click on the dots at the bottom or click on square F5 for the list of available games</li>
<li>click on square H5 for a fullscreen view, then use the browser's back button to return to this page</li>
<li>click on square H8 for further help</li>
</ul>

<h3>webmaster hints to setup a live games broadcast</h3>
<p>
The following instructions refer to the basic example; the advanced example including the user/engine analysis board is more complex to setup, please contact the pgn4web project for more detailed instructions.
</p>
<ul>
<li>copy the pgn4web files on the server, for instance in the folder accessible as <span class='exampleLink'>http://example.com/somewhere/pgn4web/</span></li>
<li>reuse the same tools that generate the chess moves for the flash based client processing the inputs from the electronic boards</li>
<li>configure those tools to save games as a PGN file accessible as <span class='exampleLink'>http://example.com/somewhere/pgn4web/live/live.pgn</span>, including clock information if available</li>
<li>replace the flash object in the live web pages with an inline frame using a src url similar to the example of this page, such as <span class='exampleLink'>http://example.com/somewhere/pgn4web/dynamic-frame.html?<span id='urlparameters'></span></span></li>
<li>set the inline frame height/width as appropriate to each live web page on the server and add any desired iframe css style property</li>
<li>done</li>
<li>more info about configuration options <a href="http://code.google.com/p/pgn4web/wiki/DynamicFrame_summary">at the pgn4web wiki</a></li>
</ul>

<!--
  the following scripts are normally not required in user pages embedding
  dynamic-frame.html and should be left out unless otherwise instructed
-->
<script src="pgn4web-server-config.js" type="text/javascript"></script>
<script type="text/javascript">
var pgn4web_live_pointer_url;
if (pgn4web_live_pointer_url === undefined) { pgn4web_live_pointer_url = "."; }
if (theIframeObject = document.getElementById('gameframe')) {
  matches = theIframeObject.src.match(/\?(.*)(#|$)/);
  iframeParameters = matches ? matches[1] : "";
  if (pgn4web_live_pointer_url != "." || window.location.search.match(/\?.+$/)) {
    theIframeObject.src = pgn4web_live_pointer_url + '/dynamic-frame.html?' + window.location.search.replace(/^\?(.+)$/, '$1&') + iframeParameters;
    matches = theIframeObject.src.match(/\?(.*)(#|$)/);
    iframeParameters = matches ? matches[1] : "";
  }
  if (theSpanObject = document.getElementById('urlparameters')) {
    theSpanObject.innerHTML = iframeParameters;
  }
}
if (theIframeObject = document.getElementById('gameframeAdvanced')) {
  matches = theIframeObject.src.match(/\?(.*)(#|$)/);
  iframeParameters = matches ? matches[1] : "";
  if (pgn4web_live_pointer_url != "." || window.location.search.match(/\?.+$/)) {
    theIframeObject.src = pgn4web_live_pointer_url + '/dynamic-frame.html?' + window.location.search.replace(/^\?(.+)$/, '$1&') + iframeParameters;
    matches = theIframeObject.src.match(/\?(.*)(#|$)/);
    iframeParameters = matches ? matches[1] : "";
  }
}
</script>

</body>

</html>
