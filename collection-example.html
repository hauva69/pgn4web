<html>

<!--
  pgn4web javascript chessboard
  copyright (C) 2009, 2010 Paolo Casaschi
  see README file and http://pgn4web.casaschi.net
  for credits, license and more details
-->

<head>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"> 

<title>pgn4web games collection example</title> 

<style type="text/css"> 
 
body 
{ color: black; background: white; font-family: sans-serif; padding: 20px; }
 
a:link, a:visited, a:hover, a:active
{ color: black; text-decoration: none; }

a.linklist:link, a.linklist:visited, a.linklist:hover, a.linklist:active,
a.linkselected:link, a.linkselected:visited, a.linkselected:hover, a.linkselected:active
{ font-size: 80%; color: black; text-decoration: none; }

a.linkselected:link, a.linkselected:visited, a.linkselected:hover, a.linkselected:active
{ color: red; }

table, tr, td
{ border-width: 1px; border-color: gray; border-collapse: collapse; }

</style> 

<link rel="shortcut icon" href="pawn.ico" />

</head><body>

<p>
This is an application example showing how to use the pgn4web file collection.html to manage a collection of PGN files.
<br>
Two alternative options are shown.
</p>

<p style="font-size: 200%; font-weight: bold;">
links to the viewer
<p>
A link can be listed for online viewing each PGN file in a new browser window:
</p>

<table cellpadding=20 cellspacing=0 border=1>

<tr>
<td>2008 World Championship: Anand Kramnik</td>
<td><a href="collection.html?pgnFile=wch08ak.pgn&title=2008 World Championship: Anand Kramnik" target="viewer">view</a></td>
<td><a href="wch08ak.pgn">download</a></td>
</tr>

<tr>
<td>The Week In Chess #765</td>
<!-- when present the URL (in this case as part of the title string), the char # needs to be escaped as %23 
     same would apply to ? (%3F) & (%38) and any other URL special characters -->
<td><a href="collection.html?pgnFile=twic765.pgn&title=The Week In Chess %23765" target="viewer">view</a></td>
<td><a href="twic765.pgn">download</a></td>
</tr>

<tr>
<td>Tilburg Fontys 1998 round 2</td>
<td><a href="collection.html?pgnFile=tilb98r2.pgn&title=Tilburg Fontys 1998 round 2" target="viewer">view</a></td>
<td><a href="tilb98r2.pgn">download</a></td>
</tr>

</table>

<p style="font-size: 200%; font-weight: bold; margin-top: 1em;">
dropdown menu selection
<p>
The selecetd PGN file from a dropdown menu is shown in the inline frame underneath:
</p>

<br>
<select id="selectmenu" style="width:100%">
<option value="">Select a PGN archive from the collection</option>
<option value="wch08ak.pgn">2008 World Championship: Anand Kramnik</option>
<option value="twic765.pgn">The Week In Chess #765</option>
<option value="tilb98r2.pgn">Tilburg Fontys 1998 round 2</option>
</select>

<br>
<br>
<iframe id="inlineframe" name="inlineframe" style="border-width: 1px; border-color: gray;" height="1200" width="100%" frameborder="1" scrolling="auto" marginheight="0" marginwidth="0" src="collection.html">
your web browser and/or your host do not support iframes as required to display the chessboard
</iframe>

<script type="text/javascript">

var oldChosenoptionValue = "";
var selectmenu=document.getElementById("selectmenu");
selectmenu.onchange = function() { 
    var chosenoption = this.options[this.selectedIndex];
    if ((chosenoption.value !== "") && (chosenoption.value != oldChosenoptionValue)){
        oldChosenoptionValue = chosenoption.value;
        theObject = frames['inlineframe'].document.getElementById('searchPgnExpression');
        if (theObject) {
	    searchPgnString = '&search=' + escape(theObject.value);
	} else {
	    searchPgnString = '';
        }
	frames['inlineframe'].location.href = "collection.html?pgnFile=" + chosenoption.value + "&title=" + escape(chosenoption.innerHTML) + searchPgnString;
    }
    this.selectedIndex = 0;
};

</script>

</body>

</html>

