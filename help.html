<html>

<!--
  pgn4web javascript chessboard
  copyright (C) 2009 Paolo Casaschi
  see README file and http://pgn4web.casaschi.net
  for credits, license and more details
-->

<head>

<title>pgn4web help</title>

<style type="text/css">

html,
body {
  font-family: sans-serif;
  color: black;
  background: white;
}

a {
  text-decoration: none;
  color: black;
}

</style>

</head>

<body>

<script  type="text/javascript">

function gup( name ){

  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+name+"=([^&#]*)";
  // commented below to match first occurrence (to avoid users overruling setting)
  // regexS = regexS+"(?!.*"+regexS+")"; // matches the LAST occurrence
  var regex = new RegExp( regexS );
  var results = regex.exec( window.location.href );
  if( results != null ) { switch (results[1]) {
    case "t": case "T": return "true";  break;
    case "f": case "F": return "false"; break;
    default: return results[1];
  } }

  // allows for short version of the URL parameters, for instance sC matches squareColor
  compact_name = name.charAt(0);
    for(i=1; i<name.length; i++){
      if (name.charAt(i).match(/[A-Z]/)) { compact_name = compact_name + name.charAt(i).toLowerCase(); }
    }
  name = compact_name;

  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+name+"=([^&#]*)";
  // commented below to match first occurrence (to avoid users overruling setting)
  // regexS = regexS+"(?!.*"+regexS+")"; // matches the LAST occurrence
  var regex = new RegExp( regexS );

  var results = regex.exec( window.location.href );
  if( results != null ) { switch (results[1]) {
    case "t": case "T": return "true";  break;
    case "f": case "F": return "false"; break;
    default: return results[1];
  } }

  return "";
}

function print_menu( item, level, title ) {

  menu =  '<table width=100% cellspacing=0 cellpadding=0><tr><td>';
  menu += '<h' + level + '><a name=' + item + '>' + title + '</a></h' + level + '>';
  menu += '</td><td valign=top>';
  menu += '<div style="font-size: 66%; text-align: right">';
  menu += '<a href=#credits>credits and license</a>';
  menu += '&nbsp; &nbsp;<a href=#squares>shortcut squares</a>';
  menu += '&nbsp; &nbsp;<a href=#keys>shortcut keys</a>';
  menu += '</div>';
  menu += '</td></tr></table>';
  document.write(menu); 
}

function print_help_row (one, two) {
  document.write("<tr><td style='text-align: left; vertical-align: top; padding-left:40'>" + one + "</td><td style='text-align: left; vertical-align: top; padding-left:10'>" + two + "</td></tr>");
}

project_url = 'http://pgn4web.casaschi.net';

if ((version = gup("version")) == "") {
  displayVersion = '';
} else {
  displayVersion = 'v' + version;
}

if ((keysEnabled = gup("keysEnabled")) == "") {
  keysString = '';
} else {
  if (keysEnabled == "true") {
    ke_curr = "enabled";
    ke_next = "disable";
  } else {
    ke_curr = "disabled";
    ke_next = "enable";
  }
  keysString = '<p><i>Shorcut keys currently ' + ke_curr + ', ' + ke_next + 
	       ' in the chessboard with shift followed by escape or clicking square E8.<b>\n';
}

</script>

<table name="top" width=100% cellspacing=0 cellpadding=0><tr>
<td align=left valign=middle>
<h1> 
<script>document.write('<a href=' + project_url + ' target=_blank>pgn4web</a>')</script> 
help</h1>
</td><td align=right valign=middle>
<script>document.write('<a href=' + project_url + ' target=_blank><img src=pawns.png border=0></a>')</script>
</td></tr></table>

<div style="height: 1em">&nbsp</div>

<script>print_menu("credits", 2, "credits and license");</script>

Javascript modifications of <a href=mailto:pgn4web@casaschi.net target=_blank>Paolo Casaschi (pgn4web@casaschi.net)</a> on code from the http://ficsgames.com database, in turn likely based on code from the LT PGN viewer at http://www.lutanho.net/pgn/pgnviewer.html
<p>
PNG images from http://ixian.com/chess/jin-piece-sets (creative commons attribution-share alike 3.0 unported license).
<p>
Remaining pgn4web code is copyright (C) 2009 <a href=mailto:pgn4web@casaschi.net target=_blank>Paolo Casaschi (pgn4web@casaschi.net)</a> and licensed under the terms of the <a href=license-gpl-2.0.txt>GNU General Public License version 2</a> as published by the <a href=http://www.fsf.org target=_blank>Free Software Foundation</a>; either <a href=license-gpl-2.0.txt>version 2 of the License</a>, or (at your option) any later version.
<p>
<br>

<script>print_menu("squares", 2, "shortcut squares");</script>

<table style="padding:0;" border=0>
<script>
print_help_row("A1 / H1", "game start / end");
print_help_row("B1 / G1", "find previous / next comment");
print_help_row("C1 / F1", "move 6 half-moves back / forward");
print_help_row("D1 / E1", "move back / forward");
print_help_row("&nbsp;", "");
print_help_row("A2 / B2", "stop / toggle autoplay");
print_help_row("C2 / D2...", "autoplay 1 sec / 2 sec...");
print_help_row("&nbsp;", "");
print_help_row("A3 / H3", "load first / last game");
print_help_row("B3 / G3", "jump 50 games back / forward");
print_help_row("C3 / F3", "load previous / next game");
print_help_row("D3 / E3", "load random game / random game at random ply");
print_help_row("A4 / H4", "jump to previous / next event");
print_help_row("B4 / G4", "jump to previous / next round");
print_help_row("C4 / F4", "jump to previous / next finished game");
print_help_row("D4 / E4", "jump to previous / next uninished game");
print_help_row("&nbsp;", "");
print_help_row("A6 / C6", "pause / restart live broadcast automatic refresh");
print_help_row("B6", "force games refresh during live broadcast");
print_help_row("&nbsp;", "");
print_help_row("A7", "toggle comments");
print_help_row("B7", "toggle comments on separate lines");
print_help_row("&nbsp;", "");
print_help_row("A8", "toggle highlighting");
print_help_row("B8 / C8", "flip board / white on bottom");
print_help_row("&nbsp;", "");
print_help_row("D8", "toggle enabling keys shortcuts");
print_help_row("&nbsp;", "");
print_help_row("E8", "go to pgn4web website");
print_help_row("F8 / G8 / H8", "keys shorcuts help / square shortcuts help / pgn4web help");
</script>
</table>

<p>

<i>
Squares always labeled as if white is at the bottom.
<br>
The list above contains default values, those might have been altered by your web page
</i>
<p>
<br>

<script>print_menu("keys", 2, "shortcut keys");</script>

<table style="padding:0;" border=0>
<script>
print_help_row("h, l", "game start, end");
print_help_row("u, i", "find previous, next comment");
print_help_row("j, k", "move backward, forward");
print_help_row("&nbsp;", "");
print_help_row("a, s", "start, stop autoplay");
print_help_row("1, 2...", "autoplay 1 sec, 2 sec...");
print_help_row("&nbsp;", "");
print_help_row("v, m", "load first, last game");
print_help_row("b, n", "load previous, next game");
print_help_row("c, x", "load random game, random game at random ply");
print_help_row("&nbsp;", "");
print_help_row("r, y", "pause, restart live broadcast automatic refresh");
print_help_row("t", "force games refresh during live broadcast");
print_help_row("&nbsp;", "");
print_help_row("p", "toggle comments");
print_help_row("o", "toggle comments on separate lines");
print_help_row("&nbsp;", "");
print_help_row("g", "toggle highlighting");
print_help_row("f, d", "flip board, white on bottom");
print_help_row("&nbsp;", "");
print_help_row("z", "go to pgn4web website");
print_help_row("esc", "pgn4web help");
</script>
</table>

<script>document.write(keysString);</script>

<p>
<br>

<table width=100% cellspacing=0 cellpadding=0><tr>
<td align=left valign=middle>
<script>document.write("<b>more info at <a href=" + project_url + " target=_blank>" + project_url + "</a><br>pgn4web " + displayVersion + "</b>")</script>
</td><td align=right valign=middle>
<script>document.write('<a href=' + project_url + ' target=_blank><img src=pawns.png border=0></a>')</script>
</td></tr></table>

</body>

</html>

