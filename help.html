<html>

<!--
  pgn4web javascript chessboard
  copyright (C) 2009 Paolo Casaschi
  see README file and http://pgn4web.casaschi.net
  for credits, license and more details
-->

<head>

<title>pgn4web help</title>

<style type="text/css">

html,
body {
  font-family: sans-serif;
  color: black;
  background: white;
  padding: 10px;
}

a {
  text-decoration: none;
  color: black;
}

</style>

<link rel="shortcut icon" href="pawn.ico"></link>

</head>

<body>

<script src="pgn4web-server-config.js" type="text/javascript"></script>

<script type="text/javascript">

function gup( name ){

  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+name+"=([^&#]*)";
  // commented below to match first occurrence (to avoid users overruling setting)
  // regexS = regexS+"(?!.*"+regexS+")"; // matches the LAST occurrence
  var regex = new RegExp( regexS );
  var results = regex.exec( window.location.href );
  if( results !== null ) { switch (results[1]) {
    case "t": case "T": return "true";  break;
    case "f": case "F": return "false"; break;
    default: return results[1];
  } }

  // allows for short version of the URL parameters, for instance sC matches squareColor
  compact_name = name.charAt(0);
    for(i=1; i<name.length; i++){
      if (name.charAt(i).match(/[A-Z]/)) { compact_name = compact_name + name.charAt(i).toLowerCase(); }
    }
  name = compact_name;

  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  regexS = "[\\?&]"+name+"=([^&#]*)";
  // commented below to match first occurrence (to avoid users overruling setting)
  // regexS = regexS+"(?!.*"+regexS+")"; // matches the LAST occurrence
  regex = new RegExp( regexS );

  results = regex.exec( window.location.href );
  if( results !== null ) { switch (results[1]) {
    case "t": case "T": return "true";  break;
    case "f": case "F": return "false"; break;
    default: return results[1];
  } }

  return "";
}

function print_menu( item, level, title ) {
  menu  = '<table width=100% cellspacing=0 cellpadding=0><tr><td valign=top>';
  menu += '<h' + level + '>' + title + '</a></h' + level + '>';
  menu += '</td><td valign=top>';
  menu += '<div style="font-size: 66%; text-align: right">';
  menu += '<a name="' + item + '" href=#credits>credits&nbsp;&amp;&nbsp;license</a>';
  menu += '&nbsp; &nbsp;<a href=#squares>shortcut&nbsp;squares</a>';
  menu += '&nbsp; &nbsp;<a href=#keys>shortcut&nbsp;keys</a>';
  menu += '</div>';
  menu += '</td></tr></table>';
  document.write(menu); 
}

function print_help_row (one, two) {
  document.write("<tr><td style='text-align: left; vertical-align: top; padding-left:40'>" + one + "</td><td style='text-align: left; vertical-align: top; padding-left:10'>" + two + "</td></tr>");
}

if ((pgn4web_version = gup("version")) === "") {
  displayVersion = '';
} else {
  displayVersion = 'v' + pgn4web_version;
}

if ((keysEnabled = gup("keysEnabled")) === "") {
  keysString = '';
} else {
  if (keysEnabled == "true") {
    ke_curr = "enabled";
    ke_next = "disable";
  } else {
    ke_curr = "disabled";
    ke_next = "enable";
  }
  keysString = '<p></p><i>Shorcut keys currently ' + ke_curr + ', ' + ke_next + 
	       ' in the chessboard with shift+escape or clicking square H7.<b>\n';
}

</script>

<table name="top" width=100% cellspacing=0 cellpadding=0><tr>
<td align=left valign=middle>
<h1> pgn4web help</h1>
</td><td align=right valign=middle>
<img src=pawns.png border=0>
</td></tr></table>

<div style="height: 1em">&nbsp</div>

<script type="text/javascript">print_menu("credits", 2, "credits&nbsp;&amp;&nbsp;license");</script>

Javascript modifications of <a href=mailto:pgn4web@casaschi.net target=_blank>Paolo Casaschi (pgn4web@casaschi.net)</a> on code from the http://ficsgames.com database, in turn likely based on code from the LT PGN viewer at http://www.lutanho.net/pgn/pgnviewer.html
<p></p>
PNG images from http://ixian.com/chess/jin-piece-sets (<a href=http://creativecommons.org/licenses/by-sa/3.0/>creative commons attribution-share alike 3.0 unported license</a>).
<p></p>
The figurine fonts are derived from the Liberation Sans font (released under GNU General Public License, see https://fedorahosted.org/liberation-fonts/) with the addition of chess pieces from freeware fonts: the alpha2 font (Peter Strickland), the good companion font (David L. Brown), the merida font (Armando H. Marroquin), the pirate font (Klaus Wolf) and the chess usual font (Armando H. Marroquin). The original chess fonts and more details are available at http://www.enpassant.dk/chess/fonteng.htm
<p></p>
Remaining pgn4web code is copyright (C) 2009 <a href=mailto:pgn4web@casaschi.net target=_blank>Paolo Casaschi (pgn4web@casaschi.net)</a> and licensed under the terms of the <a href=license-gpl-2.0.txt>GNU General Public License version 2</a> as published by the <a href=http://www.fsf.org target=_blank>Free Software Foundation</a>; either <a href=license-gpl-2.0.txt>version 2 of the License</a>, or (at your option) any later version.
<p></p>
<br>

<script type="text/javascript">print_menu("squares", 2, "shortcut&nbsp;squares");</script>

<table style="padding:0;" border=0>
<script type="text/javascript">
print_help_row("A1 / H1", "game start / end");
print_help_row("B1 / G1", "find previous / next comment");
print_help_row("C1 / F1", "move 6 half-moves back / forward");
print_help_row("D1 / E1", "move back / forward");
print_help_row("&nbsp;", "");
print_help_row("A2 / B2", "stop / toggle autoplay");
print_help_row("C2 / D2...", "autoplay 1 sec / 2 sec...");
print_help_row("&nbsp;", "");
print_help_row("A3 / H3", "load first / last game");
print_help_row("B3 / G3", "jump 50 games back / forward");
print_help_row("C3 / F3", "load previous / next game");
print_help_row("D3 / E3", "load random game / random game at random ply");
print_help_row("A4 / H4", "jump to previous / next event");
print_help_row("B4 / G4", "jump to previous / next round of same event");
print_help_row("C4 / F4", "load previous / next game of same black player");
print_help_row("D4 / E4", "load previous / next game of same white player");
print_help_row("&nbsp;", "");
print_help_row("A6 / B6", "pause / restart live broadcast automatic refresh");
print_help_row("C6 / F6", "jump to previous / next finished game");
print_help_row("D6 / E6", "jump to previous / next uninished game");
print_help_row("H6", "force games refresh during live broadcast");
print_help_row("&nbsp;", "");
print_help_row("A7", "toggle comments");
print_help_row("B7", "toggle comments on separate lines");
print_help_row("C7", "toggle highlighting last move");
print_help_row("D7 / E7", "flip board / white on bottom");
print_help_row("&nbsp;", "");
print_help_row("H7", "toggle enabling shortcut keys");
print_help_row("&nbsp;", "");
print_help_row("A8", "go to the pgn4web website");
print_help_row("D8", "show source PGN data");
print_help_row("E8", "debug info");
print_help_row("F8 / G8 / H8", "shortcut keys help / shortcut square help / pgn4web help");
</script>
</table>

<p></p>

<i>
Squares always labeled as if white is at the bottom.
<br>
The list above contains default values, those might have been altered by your web page
</i>
<p></p>
<br>

<script type="text/javascript">print_menu("keys", 2, "shortcut&nbsp;keys");</script>

<table style="padding:0;" border=0>
<script type="text/javascript">
print_help_row("h , l", "game start, end (also arrow up, down)");
print_help_row("u, i", "find previous, next comment");
print_help_row("j , k", "move backward, forward (also arrow left, right)");
print_help_row("&nbsp;", "");
print_help_row("a, s", "start, stop autoplay");
print_help_row("1, 2...", "autoplay 1 sec, 2 sec...");
print_help_row("&nbsp;", "");
print_help_row("v, m", "load first, last game");
print_help_row("b, n", "load previous, next game");
print_help_row("c, x", "load random game, random game at random ply");
print_help_row("&nbsp;", "");
print_help_row("r, y", "pause, restart live broadcast automatic refresh");
print_help_row("t", "force games refresh during live broadcast");
print_help_row("&nbsp;", "");
print_help_row("p", "toggle comments");
print_help_row("o", "toggle comments on separate lines");
print_help_row("&nbsp;", "");
print_help_row("g", "toggle highlighting");
print_help_row("f, d", "flip board, white on bottom");
print_help_row("&nbsp;", "");
print_help_row("z", "go to pgn4web website");
print_help_row("esc", "pgn4web help");
</script>
</table>

<script type="text/javascript">document.write(keysString);</script>

<p></p>
<br>

<table width=100% cellspacing=0 cellpadding=0><tr>
<td align=left valign=middle>
<script type="text/javascript">document.write("<b>pgn4web " + displayVersion + "<br><a href=" + pgn4web_project_url + " target=_blank>" + pgn4web_project_url + "</a></b>");</script>
</td><td align=right valign=middle>
<img src=pawns.png border=0>
</td></tr></table>

</body>

</html>

